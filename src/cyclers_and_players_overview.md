# Overview of Cyclers and Players Subsystem

This subsystem is designed to orchestrate the content flow for an immersive, hypnotic or guided experience application. The concept is divided into two main parts:

- **Cyclers:** Responsible for deciding *what* content to present, in *what sequence*.
- **Players:** Responsible for *how* that chosen content is presented in terms of spatial arrangement (e.g., audio panning, image placement), timing, and layering.

Together, they form a pipeline that can transform a raw collection of media items (audio lines, images, etc.) into a rich, psychologically informed narrative.

## Key Concepts

### Cyclers
**Cyclers** determine the sequence and selection of content from a pool of items. They serve as "playlist generators" that can apply different logical patterns or rules to the content. For example:

- **RandomCycler**: Picks a random subset of items, creating an unpredictable and disorienting sequence.
- **ChainCycler**: Repeats items in a fixed order, reinforcing patterns and anchoring certain ideas.
- **WeaveCycler**: Interlaces two sets of items, creating a rich interplay of themes.
- **BridgeCycler**: Smoothly transitions from one theme or state to another.
- **AdaptiveCycler**: Dynamically adjusts the selection based on feedback or session progression.

**Developer Note:**  
Cyclers produce a *sequence of items* in a logically determined order. This means that once you've filtered or collected your raw items, you can feed them into a Cycler to get a curated list ready for presentation. Cyclers are theme and content agnostic—they don’t assume audio or image, just that you have items with certain properties. This abstraction allows you to expand from pure audio lines to mixed media content (e.g., images) without changing the cycler logic.

### Players
**Players** take the sequence of items generated by the Cyclers and determine *how* each item is presented. This includes spatial (left ear, right ear, center), timing, layering, and arrangement details.

For audio:
- They might apply panning to send audio lines alternately to the left or right ear.
- They could layer multiple lines to create a dense soundscape.
- They may rotate the "sound sources" to create a sensation of movement.

For images:
- They could decide if an image should appear on the left, right, or center of the viewer’s field.
- They might overlay images or present them in quick succession to create a subliminal effect.

Example Players:
- **DirectPlayer**: Simple, straightforward presentation (no fancy effects).
- **StereoSplitPlayer**: Alternates left/right for a ping-pong auditory or visual effect.
- **RotationalPlayer**: Cycles through multiple positions, creating a sense of immersion.
- **LayeredPlayer**: Overlaps multiple elements for a denser, more confusing (and often more hypnotically potent) environment.

**Developer Note:**  
Players do not alter the content sequence; they only define how that sequence is arranged in a multi-channel, multi-modal environment. By separating the *selection and sequencing* (Cyclers) from the *presentation and arrangement* (Players), you get a flexible architecture. You can easily swap out a Cycler without touching Player logic, or choose a different Player to achieve a different atmospheric effect without modifying the underlying sequence.

## Psychological and Functional Benefits

- **Cyclers**:  
  - Psychologically: They can create patterns that the subject’s mind either latches onto or becomes overwhelmed by, both of which can be used strategically in hypnotic or immersive sessions.
  - Functionally: They provide reusable logic blocks. Whether you need randomization, smooth transitions, or a complex multi-layered narrative, you can choose or chain Cyclers as needed.

- **Players**:  
  - Psychologically: Spatial and temporal arrangements of stimuli affect how deeply and in what manner the subject engages with the content. Adjusting channels and layering can enhance immersion, confusion, or focus.
  - Functionally: Players give you a toolkit for quickly changing presentation styles. Need a more intense session? Swap to a Player that layers stimuli. Need something more gentle? Use a DirectPlayer.

## Extensibility

The subsystem is designed to be easily extendable.  
- Adding a new Cycler can be done by implementing a new class that inherits from the `Cycler` base class and defines a `get_sequence()` method.
- Adding a new Player involves creating a new class that inherits from `Player` and defines `arrange_sequence()`.

Because both Cyclers and Players operate on abstract item dictionaries, the core logic doesn’t care if your item is audio, image, or something else. As the project evolves (e.g., incorporating semantic embeddings or more complex logic), the Cyclers and Players remain flexible building blocks.

## Getting Started

1. **Filtering & Loading**: Start by loading your items (audio lines, images) through a data loader and filter them to your desired subset.
2. **Cycling**: Pass this filtered list to a chosen Cycler to generate a finalized sequence.
3. **Playing**: Pass the sequence to a Player to determine how the items are arranged in time and space.
4. **Output**: Finally, integrate the Player’s output into your rendering pipeline (e.g., mixing audio into a final MP3, assembling images into a video, or displaying them in real-time).
